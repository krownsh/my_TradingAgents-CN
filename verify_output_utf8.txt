2026-02-09 11:34:44,193 | agents               | INFO     | ? [ConfigManager] 撘憪?憪? MongoDB 摮...
2026-02-09 11:34:44,193 | agents               | INFO     | ?? [ConfigManager] USE_MONGODB_STORAGE=false (閫??銝? False)
2026-02-09 11:34:44,193 | agents               | INFO     | ?對? [ConfigManager] MongoDB 摮?芸?剁?撠蝙??JSON ?辣摮
2026-02-09 11:34:45,995 | agents               | WARNING  | ?? redis ?芸?鋆?Redis?銝??
2026-02-09 11:34:46,146 | agents               | WARNING  | ?? stockstats撌亙銝?? No module named 'stockstats'
2026-02-09 11:34:46,985 | __main__             | INFO     | ?? Starting Market Sync Verification...
2026-02-09 11:34:46,985 | tradingagents.providers.manager | INFO     | Registered provider yfinance for market US
2026-02-09 11:34:46,985 | tradingagents.providers.manager | INFO     | Registered provider yfinance for market TW
2026-02-09 11:34:46,985 | tradingagents.providers.manager | INFO     | Registered provider yfinance for market HK
2026-02-09 11:34:46,985 | tradingagents.providers.manager | INFO     | Registered provider twse for market TW
2026-02-09 11:34:46,986 | tradingagents.providers.manager | INFO     | Registered provider tpex for market TW
2026-02-09 11:34:46,986 | tradingagents.dataflows.interface_v2 | INFO     | DataFlowInterface initialized with default providers.
2026-02-09 11:34:46,987 | __main__             | INFO     | 
--------------------------------------------------
2026-02-09 11:34:46,987 | __main__             | INFO     | Testing US Market Sync...
2026-02-09 11:34:46,987 | app.services.market_data_sync_service | INFO     | ?? 撘憪?甇亙??箏?銵? MarketType.US
2026-02-09 11:34:46,988 | app.services.market_data_sync_service | INFO     | ?? Provider yfinance 餈?鈭?30 銝芣???
2026-02-09 11:34:46,988 | app.services.market_data_sync_service | INFO     | ?? 撣 MarketType.US ?餉恣敺?甇交??? 30
2026-02-09 11:34:46,988 | app.services.market_data_sync_service | INFO     | ??撣 MarketType.US ?郊摰?: ?啣? 5, ?湔 10
2026-02-09 11:34:46,989 | __main__             | INFO     | ?? US Sync Result: {'updated': 10, 'inserted': 5}
2026-02-09 11:34:46,989 | __main__             | INFO     | 
--------------------------------------------------
2026-02-09 11:34:46,989 | __main__             | INFO     | Testing TW Market Sync...
2026-02-09 11:34:46,989 | app.services.market_data_sync_service | INFO     | ?? 撘憪?甇亙??箏?銵? MarketType.TW
2026-02-09 11:34:46,989 | app.services.market_data_sync_service | INFO     | ?? Provider yfinance 餈?鈭?30 銝芣???
2026-02-09 11:34:47,102 | tradingagents.providers.tw.twse | ERROR    | Error fetching TWSE list: HTTPSConnectionPool(host='isin.twse.com.tw', port=443): Max retries exceeded with url: /isin/C_public.jsp?strMode=2 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: Missing Subject Key Identifier (_ssl.c:1032)')))
2026-02-09 11:34:47,142 | tradingagents.providers.tw.tpex | ERROR    | Error fetching TPEx list: HTTPSConnectionPool(host='isin.twse.com.tw', port=443): Max retries exceeded with url: /isin/C_public.jsp?strMode=4 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: Missing Subject Key Identifier (_ssl.c:1032)')))
2026-02-09 11:34:47,142 | app.services.market_data_sync_service | INFO     | ?? 撣 MarketType.TW ?餉恣敺?甇交??? 30
2026-02-09 11:34:47,143 | app.services.market_data_sync_service | INFO     | ??撣 MarketType.TW ?郊摰?: ?啣? 5, ?湔 10
2026-02-09 11:34:47,143 | __main__             | INFO     | ?? TW Sync Result: {'updated': 10, 'inserted': 5}
2026-02-09 11:34:47,144 | __main__             | INFO     | 
--------------------------------------------------
2026-02-09 11:34:47,144 | __main__             | INFO     | Testing US Quotes Sync...
2026-02-09 11:34:47,144 | app.services.market_data_sync_service | INFO     | ?? 撘憪?甇亥??? MarketType.US
2026-02-09 11:34:47,144 | app.services.market_data_sync_service | INFO     | ?? 撣 MarketType.US ??郊銵?: 3
2026-02-09 11:34:48,510 | yfinance             | ERROR    | $2330: possibly delisted; no price data found  (period=1y)
2026-02-09 11:34:48,605 | yfinance             | ERROR    | $2330: possibly delisted; no price data found  (period=5d)
2026-02-09 11:34:48,615 | app.services.market_data_sync_service | INFO     | ??撣 MarketType.US 銵??郊摰?: ?湔<MagicMock name='mock.market_quotes_global.bulk_write().modified_count.__radd__()' id='3148473310512'>, ?啣?<MagicMock name='mock.market_quotes_global.bulk_write().upserted_count.__radd__()' id='3148473317568'>, 憭梯揖1
2026-02-09 11:34:48,616 | __main__             | INFO     | ?? US Quotes Sync Result: {'updated': <MagicMock name='mock.market_quotes_global.bulk_write().modified_count.__radd__()' id='3148473310512'>, 'inserted': <MagicMock name='mock.market_quotes_global.bulk_write().upserted_count.__radd__()' id='3148473317568'>, 'failed': 1}
2026-02-09 11:34:48,616 | __main__             | INFO     | 
--------------------------------------------------
2026-02-09 11:34:48,617 | __main__             | INFO     | Testing TW Daily Bars Sync...
2026-02-09 11:34:48,617 | app.services.market_data_sync_service | INFO     | ? 撘憪?甇交蝥踵?? MarketType.TW, ?餈?5 憭?
2026-02-09 11:34:48,617 | app.services.market_data_sync_service | INFO     | ?? 撣 MarketType.TW ??郊K蝥? 3
2026-02-09 11:34:48,620 | app.services.market_data_sync_service | INFO     | 餈漲: 3/3
2026-02-09 11:34:48,623 | app.services.market_data_sync_service | INFO     | ??撣 MarketType.TW ?亦瑪?郊摰?: ?湔<MagicMock name='mock.stock_daily_quotes.bulk_write().modified_count.__radd__().__iadd__().__iadd__()' id='3148474406896'>, ?啣?<MagicMock name='mock.stock_daily_quotes.bulk_write().upserted_count.__radd__().__iadd__().__iadd__()' id='3148474407568'>, 憭梯揖0
2026-02-09 11:34:48,623 | __main__             | INFO     | ?? TW Bars Sync Result: {'updated': <MagicMock name='mock.stock_daily_quotes.bulk_write().modified_count.__radd__().__iadd__().__iadd__()' id='3148474406896'>, 'inserted': <MagicMock name='mock.stock_daily_quotes.bulk_write().upserted_count.__radd__().__iadd__().__iadd__()' id='3148474407568'>, 'failed': 0}
2026-02-09 11:34:48,623 | __main__             | INFO     | 
--------------------------------------------------
2026-02-09 11:34:48,623 | __main__             | INFO     | Verification of DB Operations:
2026-02-09 11:34:48,623 | __main__             | INFO     | ?? Stock Basic Info calls: 2
2026-02-09 11:34:48,624 | __main__             | INFO     | ?? Market Quotes calls: 1
2026-02-09 11:34:48,624 | __main__             | INFO     | ?? Daily Bars calls: 3
2026-02-09 11:34:48,624 | __main__             | INFO     |    Sample Bar Op: UpdateOne({'symbol': 'AAPL', 'market': 'TW', 'trade_date': datetime.datetime(2023, 1, 1, 0, 0), 'period': 'daily'}, {'$set': {'symbol': '2330', 'trade_date': datetime.datetime(2023, 1, 1, 0, 0), 'open': 500.0, 'high': 510.0, 'low': 490.0, 'close': 505.0, 'volume': 1000, 'market': 'TW', 'data_source': 'unified', 'period': 'daily'}}, True, None, None, None, None)
