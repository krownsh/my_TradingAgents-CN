# TradingAgents-CN 功能清單

> 版本: v1.0.0-preview  
> 更新時間: 2026-02-11

---

## 🏗️ 核心架構

### 技術棧
- **後端**: FastAPI + Uvicorn + Python 3.10+
- **前端**: Vue 3 + Vite + Element Plus + TypeScript
- **資料庫**: MongoDB + Redis + SQLite
- **部署**: Docker 多架構 (amd64 + arm64)
- **AI框架**: LangChain + LangGraph

---

## 🤖 多智能體系統

### 分析師團隊 (5名專家)
- **基本面分析師** - 財務數據分析、估值計算 (PE/PB/ROE)
- **技術面分析師** - 技術指標 (MA/MACD/RSI/KDJ/布林帶)
- **情緒分析師** - 新聞情緒、社交媒體分析
- **量化分析師** - 量化策略開發
- **市場分析師** - 市場趨勢、行業分析

### 研究員團隊
- **新聞研究員** - 多源新聞抓取與分析
- **數據研究員** - 市場數據研究

### 風險管理團隊
- **風險評估** - 投資風險評估
- **倉位管理** - 倉位配置建議
- **止損策略** - 止損點計算

### 其他智能體
- **投資組合經理** - 整體組合管理
- **協調員** - 多智能體協調
- **交易執行專家** - 模擬交易執行

---

## 📊 數據服務

### 支持的數據源 (8個)
1. **Tushare** - A股專業數據源 (需積分)
2. **AKShare** - 開源金融數據 (免費)
3. **BaoStock** - 證券寶 (免費)
4. **eFiance** - 東方財富
5. **FinMind** - 台灣市場
6. **yFinance** - 全球市場
7. **Finnhub** - 國際市場
8. **EODHD** - 歷史數據

### 數據同步功能
- ✅ 多數據源自動切換與降級
- ✅ 定時同步任務 (APScheduler)
- ✅ 實時行情入庫 (交易時段)
- ✅ 歷史數據回填 (增量/全量)
- ✅ 數據一致性檢查

### 市場覆蓋
- 🇨🇳 **A股** - 上海、深圳交易所 (4000+股票)
- 🇭🇰 **港股** - 香港交易所
- 🇺🇸 **美股** - 紐約、納斯達克
- 🇹🇼 **台股** - 台灣證券交易所

---

## 🔬 股票分析功能

### 單股分析 (`/analysis/single`)
**5級分析深度**:
| 級別 | 名稱 | 耗時 | 特點 |
|-----|------|------|------|
| 1 | 快速分析 | 2-3分鐘 | 基本面+技術面概覽 |
| 2 | 基礎分析 | 3-5分鐘 | 增加情緒分析 |
| 3 | 標準分析 | 5-8分鐘 | 完整多維度分析 |
| 4 | 深度分析 | 8-12分鐘 | 增加量化模型 |
| 5 | 全面分析 | 12-20分鐘 | 所有智能體參與 |

**分析維度**:
- 📈 基本面: PE/PB/ROE/營收增長/負債率
- 📊 技術面: MA/MACD/RSI/KDJ/布林帶
- 💬 情緒面: 新聞情緒、社交媒體熱度
- 🔢 量化面: 波動率、相關性、動量指標

### 批量分析 (`/analysis/batch`)
- ✅ 最多10股同時分析
- ✅ 3個並發執行線程
- ✅ 自動排隊機制
- ✅ 實時進度追蹤

### 每日分析 (`/daily-analysis`)
- 市場綜述生成
- 行業趨勢分析
- 個股推薦
- 風險提示

### 研究會議室 (`/meeting`) ⭐新功能
**Dexter研究框架**:
- 🎯 動態計畫生成 (`DexterPlanner`)
- ⚙️ 研究執行引擎 (`DexterExecutor`)
- 💾 結果持久化 (`DexterScratchpad`)
- ✅ 驗證器 (`DexterValidator`) - Sprint 2

**會議狀態機**:
```
PLAN → EXECUTE → DISCUSS → VALIDATE (Sprint 2)
```

---

## 📈 股票篩選與監控

### 智能篩選 (`/screening`)
**基本面篩選**:
- PE/PB/ROE區間、市值範圍
- 營收增長率、債務比率

**技術面篩選**:
- 價格範圍、成交量
- 技術指標閾值、突破形態

**其他**:
- 行業篩選、市場篩選

### 自選股管理 (`/favorites`)
- 個人自選股列表
- 分組管理、標籤系統
- 批量操作

### 股票詳情 (`/stocks/:code`)
- 基本信息、實時行情
- K線圖表 (ECharts)
- 歷史分析記錄
- 相關新聞、財務視覺化

---

## 📰 新聞與信息

### 新聞服務
- ✅ 多源新聞抓取 (Google News, 財經媒體)
- ✅ AI驅動情緒分析
- ✅ 新聞質量評分
- ✅ 相關性過濾
- ✅ 自選股新聞同步

### 社交媒體
- Reddit數據抓取
- 情緒指標計算
- 熱門話題追蹤

---

## 🎯 任務與報告

### 任務中心 (`/tasks`)
**任務狀態**: pending → running → completed/failed
- 實時進度追蹤
- 任務歷史記錄
- 失敗重試機制

### 分析報告 (`/reports`)
**多格式導出**:
- 📄 Markdown (.md)
- 📝 Word文檔 (.docx)
- 📕 PDF文件 (.pdf)

**其他功能**:
- 報告列表與搜索
- Token使用統計

---

## 💰 模擬交易

### 模擬交易系統 (`/paper`)
- 虛擬賬戶管理
- 模擬下單
- 持倉管理、交易記錄
- 盈虧統計、策略回測

---

## ⚙️ 系統設置

### 大模型配置 (`/settings/config`)
**支持的LLM提供商 (8+個)**:
- OpenAI (GPT-4/GPT-3.5)
- Google Gemini (Pro/Flash/Ultra)
- Anthropic Claude
- DeepSeek
- 阿里通義千問
- 百度文心一言
- 智譜AI (GLM)
- SiliconFlow

**模型能力管理**:
- 智能模型選擇
- 成本優化
- 速度/質量切換

### 數據源配置
- 優先級設定
- 啟用/禁用切換
- API憑證管理
- 健康檢查

### 資料庫管理 (`/settings/database`)
- MongoDB連接管理
- 狀態監控、集合統計
- 數據清理、索引優化

### 緩存管理 (`/settings/cache`)
- Redis緩存監控
- 命中率統計
- 緩存清理
- 多級緩存 (MongoDB/Redis/文件)

### 日誌管理
- **系統日誌** (`/settings/system-logs`) - 級別篩選、導出、搜索
- **操作日誌** (`/settings/logs`) - 用戶操作追蹤、API調用記錄

### 定時任務 (`/settings/scheduler`)
**預配置任務**:
- 股票基礎信息同步 (每日06:30)
- 實時行情入庫 (每N秒)
- 歷史數據同步、財務數據同步
- 新聞數據同步、全球市場列表同步

### 其他設置
- **使用統計** - Token消耗、API調用、成本分析
- **多數據源同步** - 手動觸發、進度查看

---

## 👤 用戶與認證

### 認證系統
- 用戶註冊、JWT登入
- Session管理
- 密碼加密 (BCrypt)
- 權限管理、操作日誌

---

## 🔔 實時通知

### 通知方式
- **WebSocket** - 雙向通信、實時進度
- **SSE** - Server-Sent Events長連接
- **內部消息** - 系統公告、用戶通知

---

## 🛠️ 開發與運維

### 開發工具
- **健康檢查** (`/health`)
- **API文檔** - Swagger UI (`/docs`), ReDoc (`/redoc`)
- **配置驗證** - 啟動檢查、配置橋接
- **錯誤處理** - 全局異常、Request ID追蹤

### 數據處理
- **財務數據** - 財報獲取、指標計算、多期對比
- **歷史數據** - 日/周/月K線、復權處理
- **實時行情** - 實時價格、分鐘級快照

---

## 🐳 部署

### Docker支持
- **多架構鏡像** (amd64/arm64)
- **服務編排**: Backend, Frontend, MongoDB, Redis
- **自動化構建** (GitHub Actions)
- **一鍵部署** (Docker Compose)

---

## 🔐 安全性

- CORS中間件
- TrustedHost中間件
- JWT密鑰管理
- API密鑰加密
- 操作日誌審計

---

## ⚡ 性能優化

- 多級緩存策略
- 數據庫索引優化
- 並發執行控制 (線程池)
- 異步IO (FastAPI + Motor)
- 連接池管理

---

## 🌟 開發計劃

### Sprint 2 (系統健壯性)
- [ ] 驗證器實現 (`validator.py`)
- [ ] research_events集合
- [ ] 證據時間軸前端
- [ ] VALIDATE狀態機

### Sprint 3 (評估與CI)
- [ ] DexterEvalRunner
- [ ] US/TW測試場景
- [ ] CI集成

---

## 📊 專案統計

- **後端路由**: 38個
- **服務層**: 39個核心服務
- **前端頁面**: 16個主要視圖
- **智能體**: 15+個專業智能體
- **數據源**: 8個金融數據提供商
- **支持市場**: 4個 (A股/港股/美股/台股)
- **LLM提供商**: 8+個
- **定時任務**: 15+個
- **API端點**: 100+個

---

## 🎯 核心競爭力

1. ⭐ **多智能體協作** - 業內領先的AI股票分析框架
2. 🔄 **多數據源容錯** - 智能降級、自動切換
3. 🌍 **全市場覆蓋** - A股/港股/美股/台股統一
4. 🏗️ **企業級架構** - FastAPI + Vue 3 + MongoDB + Redis
5. 🐳 **完整Docker化** - 一鍵部署、跨平台
6. 🤖 **豐富的LLM** - 8+個主流大模型
7. 📄 **專業報告** - 多格式導出
8. ⚡ **實時數據** - 交易時段實時入庫

---

## 📚 相關文檔

- [README.md](./README.md) - 專案概述
- [tasks.md](./tasks.md) - 開發任務
- [docs/questions.md](./docs/questions.md) - 問題解答
- [docs/STRUCTURE.md](./docs/STRUCTURE.md) - 文檔結構
- [docs/api/](./docs/api/) - API文檔

---

**最後更新**: 2026-02-11  
**維護者**: TradingAgents-CN團隊
